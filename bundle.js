(()=>{"use strict";var n={426:(n,e,t)=>{t.d(e,{Z:()=>s});var r=t(537),a=t.n(r),o=t(645),i=t.n(o)()(a());i.push([n.id,"@import url(https://fonts.googleapis.com/css2?family=Poppins&family=Roboto+Mono&display=swap);"]),i.push([n.id,"/* IMPORTS */\n\n/* RESETS */\n\n/* makes sizing simpler */\n\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\n/* remove default spacing */\n/* force styling of type through styling, rather than elements */\n\n* {\n  margin: 0;\n  padding: 0;\n  font: inherit;\n}\n\n/* dark mode user-agent-styles */\n/* \nhtml {\n  color-scheme: dark light;\n} */\n\n/* min body height */\n\nbody {\n  min-height: 100vh;\n}\n\n/* responsive images/videos */\nimg,\npicture,\nsvg,\nvideo {\n  display: block;\n  max-width: 100%;\n}\n\n\n/* STYLING */\n\n:root {\n  --bg-color: hsl(226, 19%, 18%);\n  --accent-color: hsl(226, 19%, 13%);\n  --light-accent-color: hsl(226, 19%, 16%);\n}\n\n@media (max-width: 1250px) {\n  :root {\n    font-size: min(2.5vw, 100%);\n  }\n}\n\nbody {\n  background-color: var(--bg-color);\n  color: white;\n  font-family: 'Poppins', sans-serif;\n\n  display: grid;\n  grid-template-rows: auto 1fr auto;\n}\n\nheader {\n  text-align: center;\n  padding-block: 1.5rem;\n  font-size: 4rem;\n  background-color: var(--accent-color);\n}\n\nmain.shipPlacing {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-block: 1.5rem;\n  outline: none;\n}\n\nmain > .gameOverWrapper {\n  padding-block: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.5rem;\n}\n\nmain > .gameOverWrapper > .gameOverMessage {\n  text-align: center;\n  font-size: 5rem;\n}\n\nmain > .gameOverWrapper > button {\n  font-size: 1.5rem;\n  padding: 0.5rem 0.75rem;\n  background-color: var(--accent-color);\n  color: white;\n  border: none;\n  border-radius: 0.5rem;\n}\n\nmain > .gameOverWrapper > button:hover {\n  filter: brightness(0.5);\n}\n\nmain > .players {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 10vw;\n  padding-block: 1.5rem;\n}\n\n@media (max-width: 1250px) {\n  main > .players {\n    flex-direction: column;\n    gap: 4rem;\n  }\n}\n\nmain .player > .title {\n  text-align: center;\n  font-size: 1.5rem;\n  padding-left: calc(2.75rem + 2rem);\n}\n\nmain  .player > .board {\n  font-family: 'Roboto Mono', monospace;\n  margin-bottom: 1rem;\n  user-select: none;\n}\n\nmain .player > .board > tr > td {\n  text-align: center;\n  background-color: var(--light-accent-color);\n}\n\nmain:not(.shipPlacing) .player > .board > tr > td:hover {\n  background-color: var(--accent-color);\n}\n\n\nmain .player > .board > tr > th,\nmain .player > .board > tr > td {\n  width: 2.75rem;\n  height: 2.75rem;\n  font-size: 2.1rem;\n  \n  /* outline: 1px solid red; */\n}\n\nmain .player > .board > tr > th:not(:first-child) {\n  padding-bottom: 1.5rem;\n  border-bottom: 4px solid var(--accent-color);\n}\n\n\nmain .player > .board > tr > :first-child {\n  padding-right: 2rem;\n  border-right: 4px solid var(--accent-color);\n  text-align: right;\n}\n\n\nfooter {\n  text-align: center;\n  padding-block: 1rem;\n  background-color: var(--accent-color);\n}\n\nmain:not(.shipPlacing) .player > .board > tr > td.sunk {\n  background-color: rgba(255, 0, 0, 0.8);\n}\n\nmain .player > .board > tr > td.ship:not(.sunk) {\n  background-color: rgba(48, 121, 255, 0.8);\n}\n\nmain.shipPlacing .player > .board > tr > td.legal {\n  background-color: rgba(0, 255, 0, 0.8);\n\n}\n\nmain.shipPlacing .player > .board > tr > td.illegal {\n  background-color: rgba(255, 0, 0, 0.9);\n}","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA,YAAY;;AAIZ,WAAW;;AAEX,yBAAyB;;AAEzB;;;EAGE,sBAAsB;AACxB;;AAEA,2BAA2B;AAC3B,gEAAgE;;AAEhE;EACE,SAAS;EACT,UAAU;EACV,aAAa;AACf;;AAEA,gCAAgC;AAChC;;;GAGG;;AAEH,oBAAoB;;AAEpB;EACE,iBAAiB;AACnB;;AAEA,6BAA6B;AAC7B;;;;EAIE,cAAc;EACd,eAAe;AACjB;;;AAGA,YAAY;;AAEZ;EACE,8BAA8B;EAC9B,kCAAkC;EAClC,wCAAwC;AAC1C;;AAEA;EACE;IACE,2BAA2B;EAC7B;AACF;;AAEA;EACE,iCAAiC;EACjC,YAAY;EACZ,kCAAkC;;EAElC,aAAa;EACb,iCAAiC;AACnC;;AAEA;EACE,kBAAkB;EAClB,qBAAqB;EACrB,eAAe;EACf,qCAAqC;AACvC;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,qBAAqB;EACrB,aAAa;AACf;;AAEA;EACE,qBAAqB;EACrB,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,WAAW;AACb;;AAEA;EACE,kBAAkB;EAClB,eAAe;AACjB;;AAEA;EACE,iBAAiB;EACjB,uBAAuB;EACvB,qCAAqC;EACrC,YAAY;EACZ,YAAY;EACZ,qBAAqB;AACvB;;AAEA;EACE,uBAAuB;AACzB;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,SAAS;EACT,qBAAqB;AACvB;;AAEA;EACE;IACE,sBAAsB;IACtB,SAAS;EACX;AACF;;AAEA;EACE,kBAAkB;EAClB,iBAAiB;EACjB,kCAAkC;AACpC;;AAEA;EACE,qCAAqC;EACrC,mBAAmB;EACnB,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;EAClB,2CAA2C;AAC7C;;AAEA;EACE,qCAAqC;AACvC;;;AAGA;;EAEE,cAAc;EACd,eAAe;EACf,iBAAiB;;EAEjB,4BAA4B;AAC9B;;AAEA;EACE,sBAAsB;EACtB,4CAA4C;AAC9C;;;AAGA;EACE,mBAAmB;EACnB,2CAA2C;EAC3C,iBAAiB;AACnB;;;AAGA;EACE,kBAAkB;EAClB,mBAAmB;EACnB,qCAAqC;AACvC;;AAEA;EACE,sCAAsC;AACxC;;AAEA;EACE,yCAAyC;AAC3C;;AAEA;EACE,sCAAsC;;AAExC;;AAEA;EACE,sCAAsC;AACxC",sourcesContent:["/* IMPORTS */\n\n@import url('https://fonts.googleapis.com/css2?family=Poppins&family=Roboto+Mono&display=swap');\n\n/* RESETS */\n\n/* makes sizing simpler */\n\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\n/* remove default spacing */\n/* force styling of type through styling, rather than elements */\n\n* {\n  margin: 0;\n  padding: 0;\n  font: inherit;\n}\n\n/* dark mode user-agent-styles */\n/* \nhtml {\n  color-scheme: dark light;\n} */\n\n/* min body height */\n\nbody {\n  min-height: 100vh;\n}\n\n/* responsive images/videos */\nimg,\npicture,\nsvg,\nvideo {\n  display: block;\n  max-width: 100%;\n}\n\n\n/* STYLING */\n\n:root {\n  --bg-color: hsl(226, 19%, 18%);\n  --accent-color: hsl(226, 19%, 13%);\n  --light-accent-color: hsl(226, 19%, 16%);\n}\n\n@media (max-width: 1250px) {\n  :root {\n    font-size: min(2.5vw, 100%);\n  }\n}\n\nbody {\n  background-color: var(--bg-color);\n  color: white;\n  font-family: 'Poppins', sans-serif;\n\n  display: grid;\n  grid-template-rows: auto 1fr auto;\n}\n\nheader {\n  text-align: center;\n  padding-block: 1.5rem;\n  font-size: 4rem;\n  background-color: var(--accent-color);\n}\n\nmain.shipPlacing {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-block: 1.5rem;\n  outline: none;\n}\n\nmain > .gameOverWrapper {\n  padding-block: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.5rem;\n}\n\nmain > .gameOverWrapper > .gameOverMessage {\n  text-align: center;\n  font-size: 5rem;\n}\n\nmain > .gameOverWrapper > button {\n  font-size: 1.5rem;\n  padding: 0.5rem 0.75rem;\n  background-color: var(--accent-color);\n  color: white;\n  border: none;\n  border-radius: 0.5rem;\n}\n\nmain > .gameOverWrapper > button:hover {\n  filter: brightness(0.5);\n}\n\nmain > .players {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 10vw;\n  padding-block: 1.5rem;\n}\n\n@media (max-width: 1250px) {\n  main > .players {\n    flex-direction: column;\n    gap: 4rem;\n  }\n}\n\nmain .player > .title {\n  text-align: center;\n  font-size: 1.5rem;\n  padding-left: calc(2.75rem + 2rem);\n}\n\nmain  .player > .board {\n  font-family: 'Roboto Mono', monospace;\n  margin-bottom: 1rem;\n  user-select: none;\n}\n\nmain .player > .board > tr > td {\n  text-align: center;\n  background-color: var(--light-accent-color);\n}\n\nmain:not(.shipPlacing) .player > .board > tr > td:hover {\n  background-color: var(--accent-color);\n}\n\n\nmain .player > .board > tr > th,\nmain .player > .board > tr > td {\n  width: 2.75rem;\n  height: 2.75rem;\n  font-size: 2.1rem;\n  \n  /* outline: 1px solid red; */\n}\n\nmain .player > .board > tr > th:not(:first-child) {\n  padding-bottom: 1.5rem;\n  border-bottom: 4px solid var(--accent-color);\n}\n\n\nmain .player > .board > tr > :first-child {\n  padding-right: 2rem;\n  border-right: 4px solid var(--accent-color);\n  text-align: right;\n}\n\n\nfooter {\n  text-align: center;\n  padding-block: 1rem;\n  background-color: var(--accent-color);\n}\n\nmain:not(.shipPlacing) .player > .board > tr > td.sunk {\n  background-color: rgba(255, 0, 0, 0.8);\n}\n\nmain .player > .board > tr > td.ship:not(.sunk) {\n  background-color: rgba(48, 121, 255, 0.8);\n}\n\nmain.shipPlacing .player > .board > tr > td.legal {\n  background-color: rgba(0, 255, 0, 0.8);\n\n}\n\nmain.shipPlacing .player > .board > tr > td.illegal {\n  background-color: rgba(255, 0, 0, 0.9);\n}"],sourceRoot:""}]);const s=i},645:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,a,o){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var l=0;l<n.length;l++){var A=[].concat(n[l]);r&&i[A[0]]||(void 0!==o&&(void 0===A[5]||(A[1]="@layer".concat(A[5].length>0?" ".concat(A[5]):""," {").concat(A[1],"}")),A[5]=o),t&&(A[2]?(A[1]="@media ".concat(A[2]," {").concat(A[1],"}"),A[2]=t):A[2]=t),a&&(A[4]?(A[1]="@supports (".concat(A[4],") {").concat(A[1],"}"),A[4]=a):A[4]="".concat(a)),e.push(A))}},e}},537:n=>{n.exports=function(n){var e=n[1],t=n[3];if(!t)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(a," */");return[e].concat([o]).join("\n")}return[e].join("\n")}},379:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var o={},i=[],s=0;s<n.length;s++){var c=n[s],l=r.base?c[0]+r.base:c[0],A=o[l]||0,d="".concat(l," ").concat(A);o[l]=A+1;var p=t(d),m={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(m);else{var u=a(m,r);r.byIndex=s,e.splice(s,0,{identifier:d,updater:u,references:1})}i.push(d)}return i}function a(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,a){var o=r(n=n||[],a=a||{});return function(n){n=n||[];for(var i=0;i<o.length;i++){var s=t(o[i]);e[s].references--}for(var c=r(n,a),l=0;l<o.length;l++){var A=t(o[l]);0===e[A].references&&(e[A].updater(),e.splice(A,1))}o=c}}},569:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},565:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},795:n=>{n.exports=function(n){var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},589:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},e={};function t(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={id:r,exports:{}};return n[r](o,o.exports,t),o.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0,(()=>{function n(n,e){return n.some((n=>JSON.stringify(n)===JSON.stringify(e)))}class e{constructor(n){this.length=n,this.timesHit=0}hit(){this.timesHit++}isSunk(){return this.timesHit>=this.length}}class r{constructor(){this.board=r.createBoard(),this.ships=[],this.missedAttacks=[],this.hitAttacks=[],this.possibleHitsQueue=[]}static createBoard(){const n=[];for(let e=0;e<10;e++){let e=[];for(let n=0;n<10;n++)e.push(null);n.push(e)}return n}static parseCoords(n){const e={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9};let[t,r]=n;if(t=t.toUpperCase(),!(!(t in e)||r<1||r>10))return[r-1,e[t]]}static isAttackInArray(n,e){for(const t of e)if(t[0]===n[0]&&t[1]===n[1])return!0;return!1}placeShip(n,e,t={vertical:!1}){const[r,a]=e;if(!this.canPlaceShip(n,e,t))return!1;for(let e=0;e<n.length;e++)t.vertical?this.board[r+e][a]=n:this.board[r][a+e]=n;return this.ships.push(n),!0}areShipsSunk(){for(const n of this.ships)if(!n.isSunk())return!1;return!0}receiveAttack(t){const[r,a]=t;if(this.board[r][a]instanceof e){if(this.board[r][a].hit(),this.hitAttacks.push(t),this.missedAttacks.push([r-1,a-1]),this.missedAttacks.push([r+1,a+1]),this.missedAttacks.push([r+1,a-1]),this.missedAttacks.push([r-1,a+1]),this.board[r][a].isSunk()){const e=this.findAllShipSquares(this.board[r][a].length,t);for(const t of e){let[e,r]=t;n(this.hitAttacks,[e-1,r])||this.missedAttacks.push([e-1,r]),n(this.hitAttacks,[e+1,r])||this.missedAttacks.push([e+1,r]),n(this.hitAttacks,[e,r-1])||this.missedAttacks.push([e,r-1]),n(this.hitAttacks,[e,r+1])||this.missedAttacks.push([e,r+1])}}return!0}return this.missedAttacks.push(t),!1}canPlaceShip(n,t,r={vertical:!1}){const[a,o]=t;if((r.vertical?a:o)+n.length>10)return!1;for(let t=0;t<n.length;t++){let n=a,i=o;if(r.vertical&&(n+=t),r.vertical||(i+=t),this.board[n][i]instanceof e)return!1;if(i<9&&this.board[n][i+1]instanceof e)return!1;if(i>0&&this.board[n][i-1]instanceof e)return!1;if(n<9){if(this.board[n+1][i]instanceof e)return!1;if(this.board[n+1][i+1]instanceof e)return!1;if(this.board[n+1][i-1]instanceof e)return!1}if(n>0){if(this.board[n-1][i]instanceof e)return!1;if(this.board[n-1][i+1]instanceof e)return!1;if(this.board[n-1][i-1]instanceof e)return!1}}return!0}getSquaresCoveredByNewShip(n,e,t={vertical:!1}){const[r,a]=e,o=[];for(let e=0;e<n.length;e++)if(t.vertical){if(r+e>9)return o;o.push([r+e,a])}else{if(a+e>9)return o;o.push([r,a+e])}return o}getNextShipLengthToPlace(){return[4,3,3,2,2,2,1,1,1,1][this.ships.map((n=>n.length)).length]}fillRandomly(){for(;this.getNextShipLengthToPlace();){let n=new e(this.getNextShipLengthToPlace()),t=[Math.floor(10*Math.random()),Math.floor(10*Math.random())],r=Math.random()<.5;this.placeShip(n,t,{vertical:r})}}findAllShipSquares(n,t){const[r,a]=t,o=[t];for(let t=1;t<n&&!(r+t>9)&&this.board[r+t][a]instanceof e;t++)o.push([r+t,a]);for(let t=1;t<n&&!(r-t<0)&&this.board[r-t][a]instanceof e;t++)o.push([r-t,a]);for(let t=1;t<n&&!(a+t>9)&&this.board[r][a+t]instanceof e;t++)o.push([r,a+t]);for(let t=1;t<n&&!(a-t<0)&&this.board[r][a-t]instanceof e;t++)o.push([r,a-t]);return o}addAdjacentSquaresToQueue(n){const[e,t]=n,r=this.possibleHitsQueue;e>0&&r.push([e-1,t]),t<9&&r.push([e,t+1]),e<9&&r.push([e+1,t]),t>0&&r.push([e,t-1])}}class a{constructor(){this.gameboard=new r}attack(n,e){return n.gameboard.receiveAttack(e)}attackRandom(e){const t=e.gameboard,r=t.missedAttacks.concat(t.hitAttacks);if(t.possibleHitsQueue=t.possibleHitsQueue.filter((e=>!n(r,e))),t.possibleHitsQueue.length>0){const n=Math.floor(Math.random()*t.possibleHitsQueue.length),e=t.possibleHitsQueue[n];return void(t.receiveAttack(e)&&t.addAdjacentSquaresToQueue(e))}const a=[Math.floor(10*Math.random()),Math.floor(10*Math.random())];for(const n of r)if(n[0]===a[0]&&n[1]===a[1])return void this.attackRandom(e);t.receiveAttack(a)&&t.addAdjacentSquaresToQueue(a)}}function o(){const n=document.createElement("footer"),e=(new Date).getFullYear();return n.innerHTML=`@ ${e} Etheryen`,n}function i(){const n=document.createElement("header"),e=document.createElement("h1");return e.innerHTML="Battleship",n.appendChild(e),n}function s({playerObj:n,title:t,isEnemy:a=!1,attackingPlayerObj:o,isGameOver:i}){const s=document.createElement("div");s.className="player";const c=document.createElement("table");c.className="board";let A=document.createElement("tr");A.appendChild(document.createElement("div"));const d=["A","B","C","D","E","F","G","H","I","J"];for(const n of d){let e=document.createElement("th");e.innerHTML=n,A.appendChild(e)}c.appendChild(A);for(let n=0;n<10;n++){let e=document.createElement("tr");for(let t=-1;t<10;t++){let r=m([n,t]);e.appendChild(r)}c.appendChild(e)}const p=document.createElement("h1");return p.className="title",p.innerHTML=t,s.appendChild(c),s.appendChild(p),s;function m(t){const[s,c]=t;if(c<0){const n=document.createElement("th");return n.innerHTML=s+1,n}const A=n.gameboard,d=document.createElement("td");if(function(t,o){const[i,s]=o,c=n.gameboard;r.isAttackInArray(o,c.missedAttacks)?t.innerHTML="·":(r.isAttackInArray(o,c.hitAttacks)&&(t.innerHTML="✕",c.board[i][s]?.isSunk()&&t.classList.add("sunk")),a||n.gameboard.board[i][s]instanceof e&&t.classList.add("ship"))}(d,t),a&&!r.isAttackInArray(t,A.missedAttacks.concat(A.hitAttacks))){if(i)return d;d.onclick=()=>{o.attack(n,t),n.gameboard.areShipsSunk()||n.attackRandom(o);const e=o.gameboard.areShipsSunk()||n.gameboard.areShipsSunk();l({player:o,computer:n,isGameOver:e})}}return d}}function c({player:n,computer:e,isGameOver:t}){const r=document.createElement("main");if(t){const e=document.createElement("div");e.className="gameOverWrapper";const t=document.createElement("div");t.className="gameOverMessage";const o=n.gameboard.areShipsSunk()?"Defeat!":"Victory!";t.innerHTML=o;const i=document.createElement("button");i.innerHTML="Play again",i.onclick=()=>{d({player:new a})},e.appendChild(t),e.appendChild(i),r.appendChild(e)}const o=document.createElement("div");return o.className="players",o.appendChild(s({playerObj:n,title:"Player",isGameOver:t})),o.appendChild(s({playerObj:e,title:"Computer",isEnemy:!0,attackingPlayerObj:n,isGameOver:t})),r.appendChild(o),r}function l({player:n,computer:e,isGameOver:t}){const r=[i(),c({player:n,computer:e,isGameOver:t}),o()];document.body.innerHTML="";for(const n of r)document.body.appendChild(n)}function A({player:n,hoveredSquare:t,vertical:r=!1}){const o=document.createElement("main");o.className="shipPlacing";const i=document.createElement("div");i.className="player";const s=document.createElement("table");s.className="board";let c=document.createElement("tr");c.appendChild(document.createElement("div"));const A=["A","B","C","D","E","F","G","H","I","J"];for(const n of A){let e=document.createElement("th");e.innerHTML=n,c.appendChild(e)}s.appendChild(c);for(let n=0;n<10;n++){let e=document.createElement("tr");for(let t=-1;t<10;t++){let r=u([n,t]);e.appendChild(r)}s.appendChild(e)}const p=document.createElement("h1");p.className="title",p.innerHTML="Place your ships";const m=document.createElement("h1");return m.className="title",m.innerHTML="Hit SPACE to flip 90°",i.appendChild(s),i.appendChild(p),i.appendChild(m),o.appendChild(i),o.addEventListener("keypress",(function(e){"Space"===e.code&&d({player:n,hoveredSquare:t,vertical:!r})})),o.tabIndex=0,o;function u(o){const[i,s]=o;if(s<0){const n=document.createElement("th");return n.innerHTML=i+1,n}const c=document.createElement("td"),A=n.gameboard.board[i][s]instanceof e;if(c.className=A?"ship":"",o.toString()!==t?.toString()&&(c.onmouseenter=()=>{d({player:n,hoveredSquare:[i,s],vertical:r})}),c.onmouseleave=()=>{d({player:n,hoveredSquare:void 0,vertical:r})},t){const i=n.gameboard,s=i.getNextShipLengthToPlace(),A=new e(s),m=i.canPlaceShip(A,t,{vertical:r}),u=i.getSquaresCoveredByNewShip(A,t,{vertical:r});p=o,u.some((n=>JSON.stringify(n)===JSON.stringify(p)))&&(c.className=m?"legal":"illegal"),m&&o.toString()===t?.toString()&&(c.onclick=()=>{if(i.placeShip(A,t,{vertical:r}),i.getNextShipLengthToPlace())return void d({player:n,hoveredSquare:t,vertical:r});const e=new a;e.gameboard.fillRandomly(),l({player:n,computer:e})})}var p;return c}}function d({player:n,hoveredSquare:e,vertical:t}){const r=[i(),A({player:n,hoveredSquare:e,vertical:t}),o()];document.body.innerHTML="";for(const n of r)document.body.appendChild(n);document.querySelector("main").focus()}var p=t(379),m=t.n(p),u=t(795),h=t.n(u),f=t(569),g=t.n(f),C=t(565),b=t.n(C),E=t(216),v=t.n(E),y=t(589),B=t.n(y),k=t(426),S={};S.styleTagTransform=B(),S.setAttributes=b(),S.insert=g().bind(null,"head"),S.domAPI=h(),S.insertStyleElement=v(),m()(k.Z,S),k.Z&&k.Z.locals&&k.Z.locals,d({player:new a})})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bGUuY3NzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9ub25jZSIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvanMvY2xhc3Nlcy5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvY29tcG9uZW50cy9Gb290ZXIuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2NvbXBvbmVudHMvSGVhZGVyLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9jb21wb25lbnRzL1BsYXllckVsLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9jb21wb25lbnRzL01haW4uanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2pzL3JlbmRlckFwcC5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvY29tcG9uZW50cy9TaGlwUGxhY2luZy5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvanMvcmVuZGVyU2hpcFBsYWNpbmcuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL3N0eWxlLmNzcz83MTYzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJAaW1wb3J0IHVybChodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PVBvcHBpbnMmZmFtaWx5PVJvYm90bytNb25vJmRpc3BsYXk9c3dhcCk7XCJdKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIi8qIElNUE9SVFMgKi9cXG5cXG4vKiBSRVNFVFMgKi9cXG5cXG4vKiBtYWtlcyBzaXppbmcgc2ltcGxlciAqL1xcblxcbiosXFxuKjo6YmVmb3JlLFxcbio6OmFmdGVyIHtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcblxcbi8qIHJlbW92ZSBkZWZhdWx0IHNwYWNpbmcgKi9cXG4vKiBmb3JjZSBzdHlsaW5nIG9mIHR5cGUgdGhyb3VnaCBzdHlsaW5nLCByYXRoZXIgdGhhbiBlbGVtZW50cyAqL1xcblxcbioge1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZzogMDtcXG4gIGZvbnQ6IGluaGVyaXQ7XFxufVxcblxcbi8qIGRhcmsgbW9kZSB1c2VyLWFnZW50LXN0eWxlcyAqL1xcbi8qIFxcbmh0bWwge1xcbiAgY29sb3Itc2NoZW1lOiBkYXJrIGxpZ2h0O1xcbn0gKi9cXG5cXG4vKiBtaW4gYm9keSBoZWlnaHQgKi9cXG5cXG5ib2R5IHtcXG4gIG1pbi1oZWlnaHQ6IDEwMHZoO1xcbn1cXG5cXG4vKiByZXNwb25zaXZlIGltYWdlcy92aWRlb3MgKi9cXG5pbWcsXFxucGljdHVyZSxcXG5zdmcsXFxudmlkZW8ge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBtYXgtd2lkdGg6IDEwMCU7XFxufVxcblxcblxcbi8qIFNUWUxJTkcgKi9cXG5cXG46cm9vdCB7XFxuICAtLWJnLWNvbG9yOiBoc2woMjI2LCAxOSUsIDE4JSk7XFxuICAtLWFjY2VudC1jb2xvcjogaHNsKDIyNiwgMTklLCAxMyUpO1xcbiAgLS1saWdodC1hY2NlbnQtY29sb3I6IGhzbCgyMjYsIDE5JSwgMTYlKTtcXG59XFxuXFxuQG1lZGlhIChtYXgtd2lkdGg6IDEyNTBweCkge1xcbiAgOnJvb3Qge1xcbiAgICBmb250LXNpemU6IG1pbigyLjV2dywgMTAwJSk7XFxuICB9XFxufVxcblxcbmJvZHkge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmctY29sb3IpO1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgZm9udC1mYW1pbHk6ICdQb3BwaW5zJywgc2Fucy1zZXJpZjtcXG5cXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBncmlkLXRlbXBsYXRlLXJvd3M6IGF1dG8gMWZyIGF1dG87XFxufVxcblxcbmhlYWRlciB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBwYWRkaW5nLWJsb2NrOiAxLjVyZW07XFxuICBmb250LXNpemU6IDRyZW07XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IpO1xcbn1cXG5cXG5tYWluLnNoaXBQbGFjaW5nIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIHBhZGRpbmctYmxvY2s6IDEuNXJlbTtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcblxcbm1haW4gPiAuZ2FtZU92ZXJXcmFwcGVyIHtcXG4gIHBhZGRpbmctYmxvY2s6IDEuNXJlbTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGdhcDogMC41cmVtO1xcbn1cXG5cXG5tYWluID4gLmdhbWVPdmVyV3JhcHBlciA+IC5nYW1lT3Zlck1lc3NhZ2Uge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgZm9udC1zaXplOiA1cmVtO1xcbn1cXG5cXG5tYWluID4gLmdhbWVPdmVyV3JhcHBlciA+IGJ1dHRvbiB7XFxuICBmb250LXNpemU6IDEuNXJlbTtcXG4gIHBhZGRpbmc6IDAuNXJlbSAwLjc1cmVtO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYWNjZW50LWNvbG9yKTtcXG4gIGNvbG9yOiB3aGl0ZTtcXG4gIGJvcmRlcjogbm9uZTtcXG4gIGJvcmRlci1yYWRpdXM6IDAuNXJlbTtcXG59XFxuXFxubWFpbiA+IC5nYW1lT3ZlcldyYXBwZXIgPiBidXR0b246aG92ZXIge1xcbiAgZmlsdGVyOiBicmlnaHRuZXNzKDAuNSk7XFxufVxcblxcbm1haW4gPiAucGxheWVycyB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgZ2FwOiAxMHZ3O1xcbiAgcGFkZGluZy1ibG9jazogMS41cmVtO1xcbn1cXG5cXG5AbWVkaWEgKG1heC13aWR0aDogMTI1MHB4KSB7XFxuICBtYWluID4gLnBsYXllcnMge1xcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICBnYXA6IDRyZW07XFxuICB9XFxufVxcblxcbm1haW4gLnBsYXllciA+IC50aXRsZSB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBmb250LXNpemU6IDEuNXJlbTtcXG4gIHBhZGRpbmctbGVmdDogY2FsYygyLjc1cmVtICsgMnJlbSk7XFxufVxcblxcbm1haW4gIC5wbGF5ZXIgPiAuYm9hcmQge1xcbiAgZm9udC1mYW1pbHk6ICdSb2JvdG8gTW9ubycsIG1vbm9zcGFjZTtcXG4gIG1hcmdpbi1ib3R0b206IDFyZW07XFxuICB1c2VyLXNlbGVjdDogbm9uZTtcXG59XFxuXFxubWFpbiAucGxheWVyID4gLmJvYXJkID4gdHIgPiB0ZCB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1saWdodC1hY2NlbnQtY29sb3IpO1xcbn1cXG5cXG5tYWluOm5vdCguc2hpcFBsYWNpbmcpIC5wbGF5ZXIgPiAuYm9hcmQgPiB0ciA+IHRkOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWFjY2VudC1jb2xvcik7XFxufVxcblxcblxcbm1haW4gLnBsYXllciA+IC5ib2FyZCA+IHRyID4gdGgsXFxubWFpbiAucGxheWVyID4gLmJvYXJkID4gdHIgPiB0ZCB7XFxuICB3aWR0aDogMi43NXJlbTtcXG4gIGhlaWdodDogMi43NXJlbTtcXG4gIGZvbnQtc2l6ZTogMi4xcmVtO1xcbiAgXFxuICAvKiBvdXRsaW5lOiAxcHggc29saWQgcmVkOyAqL1xcbn1cXG5cXG5tYWluIC5wbGF5ZXIgPiAuYm9hcmQgPiB0ciA+IHRoOm5vdCg6Zmlyc3QtY2hpbGQpIHtcXG4gIHBhZGRpbmctYm90dG9tOiAxLjVyZW07XFxuICBib3JkZXItYm90dG9tOiA0cHggc29saWQgdmFyKC0tYWNjZW50LWNvbG9yKTtcXG59XFxuXFxuXFxubWFpbiAucGxheWVyID4gLmJvYXJkID4gdHIgPiA6Zmlyc3QtY2hpbGQge1xcbiAgcGFkZGluZy1yaWdodDogMnJlbTtcXG4gIGJvcmRlci1yaWdodDogNHB4IHNvbGlkIHZhcigtLWFjY2VudC1jb2xvcik7XFxuICB0ZXh0LWFsaWduOiByaWdodDtcXG59XFxuXFxuXFxuZm9vdGVyIHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIHBhZGRpbmctYmxvY2s6IDFyZW07XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IpO1xcbn1cXG5cXG5tYWluOm5vdCguc2hpcFBsYWNpbmcpIC5wbGF5ZXIgPiAuYm9hcmQgPiB0ciA+IHRkLnN1bmsge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDAsIDAsIDAuOCk7XFxufVxcblxcbm1haW4gLnBsYXllciA+IC5ib2FyZCA+IHRyID4gdGQuc2hpcDpub3QoLnN1bmspIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNDgsIDEyMSwgMjU1LCAwLjgpO1xcbn1cXG5cXG5tYWluLnNoaXBQbGFjaW5nIC5wbGF5ZXIgPiAuYm9hcmQgPiB0ciA+IHRkLmxlZ2FsIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMjU1LCAwLCAwLjgpO1xcblxcbn1cXG5cXG5tYWluLnNoaXBQbGFjaW5nIC5wbGF5ZXIgPiAuYm9hcmQgPiB0ciA+IHRkLmlsbGVnYWwge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDAsIDAsIDAuOSk7XFxufVwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9zdHlsZS5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUEsWUFBWTs7QUFJWixXQUFXOztBQUVYLHlCQUF5Qjs7QUFFekI7OztFQUdFLHNCQUFzQjtBQUN4Qjs7QUFFQSwyQkFBMkI7QUFDM0IsZ0VBQWdFOztBQUVoRTtFQUNFLFNBQVM7RUFDVCxVQUFVO0VBQ1YsYUFBYTtBQUNmOztBQUVBLGdDQUFnQztBQUNoQzs7O0dBR0c7O0FBRUgsb0JBQW9COztBQUVwQjtFQUNFLGlCQUFpQjtBQUNuQjs7QUFFQSw2QkFBNkI7QUFDN0I7Ozs7RUFJRSxjQUFjO0VBQ2QsZUFBZTtBQUNqQjs7O0FBR0EsWUFBWTs7QUFFWjtFQUNFLDhCQUE4QjtFQUM5QixrQ0FBa0M7RUFDbEMsd0NBQXdDO0FBQzFDOztBQUVBO0VBQ0U7SUFDRSwyQkFBMkI7RUFDN0I7QUFDRjs7QUFFQTtFQUNFLGlDQUFpQztFQUNqQyxZQUFZO0VBQ1osa0NBQWtDOztFQUVsQyxhQUFhO0VBQ2IsaUNBQWlDO0FBQ25DOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLHFCQUFxQjtFQUNyQixlQUFlO0VBQ2YscUNBQXFDO0FBQ3ZDOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixtQkFBbUI7RUFDbkIscUJBQXFCO0VBQ3JCLGFBQWE7QUFDZjs7QUFFQTtFQUNFLHFCQUFxQjtFQUNyQixhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLG1CQUFtQjtFQUNuQixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQix1QkFBdUI7RUFDdkIscUNBQXFDO0VBQ3JDLFlBQVk7RUFDWixZQUFZO0VBQ1oscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0UsdUJBQXVCO0FBQ3pCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixtQkFBbUI7RUFDbkIsU0FBUztFQUNULHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFO0lBQ0Usc0JBQXNCO0lBQ3RCLFNBQVM7RUFDWDtBQUNGOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGlCQUFpQjtFQUNqQixrQ0FBa0M7QUFDcEM7O0FBRUE7RUFDRSxxQ0FBcUM7RUFDckMsbUJBQW1CO0VBQ25CLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQiwyQ0FBMkM7QUFDN0M7O0FBRUE7RUFDRSxxQ0FBcUM7QUFDdkM7OztBQUdBOztFQUVFLGNBQWM7RUFDZCxlQUFlO0VBQ2YsaUJBQWlCOztFQUVqQiw0QkFBNEI7QUFDOUI7O0FBRUE7RUFDRSxzQkFBc0I7RUFDdEIsNENBQTRDO0FBQzlDOzs7QUFHQTtFQUNFLG1CQUFtQjtFQUNuQiwyQ0FBMkM7RUFDM0MsaUJBQWlCO0FBQ25COzs7QUFHQTtFQUNFLGtCQUFrQjtFQUNsQixtQkFBbUI7RUFDbkIscUNBQXFDO0FBQ3ZDOztBQUVBO0VBQ0Usc0NBQXNDO0FBQ3hDOztBQUVBO0VBQ0UseUNBQXlDO0FBQzNDOztBQUVBO0VBQ0Usc0NBQXNDOztBQUV4Qzs7QUFFQTtFQUNFLHNDQUFzQztBQUN4Q1wiLFwic291cmNlc0NvbnRlbnRcIjpbXCIvKiBJTVBPUlRTICovXFxuXFxuQGltcG9ydCB1cmwoJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9UG9wcGlucyZmYW1pbHk9Um9ib3RvK01vbm8mZGlzcGxheT1zd2FwJyk7XFxuXFxuLyogUkVTRVRTICovXFxuXFxuLyogbWFrZXMgc2l6aW5nIHNpbXBsZXIgKi9cXG5cXG4qLFxcbio6OmJlZm9yZSxcXG4qOjphZnRlciB7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG5cXG4vKiByZW1vdmUgZGVmYXVsdCBzcGFjaW5nICovXFxuLyogZm9yY2Ugc3R5bGluZyBvZiB0eXBlIHRocm91Z2ggc3R5bGluZywgcmF0aGVyIHRoYW4gZWxlbWVudHMgKi9cXG5cXG4qIHtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDA7XFxuICBmb250OiBpbmhlcml0O1xcbn1cXG5cXG4vKiBkYXJrIG1vZGUgdXNlci1hZ2VudC1zdHlsZXMgKi9cXG4vKiBcXG5odG1sIHtcXG4gIGNvbG9yLXNjaGVtZTogZGFyayBsaWdodDtcXG59ICovXFxuXFxuLyogbWluIGJvZHkgaGVpZ2h0ICovXFxuXFxuYm9keSB7XFxuICBtaW4taGVpZ2h0OiAxMDB2aDtcXG59XFxuXFxuLyogcmVzcG9uc2l2ZSBpbWFnZXMvdmlkZW9zICovXFxuaW1nLFxcbnBpY3R1cmUsXFxuc3ZnLFxcbnZpZGVvIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgbWF4LXdpZHRoOiAxMDAlO1xcbn1cXG5cXG5cXG4vKiBTVFlMSU5HICovXFxuXFxuOnJvb3Qge1xcbiAgLS1iZy1jb2xvcjogaHNsKDIyNiwgMTklLCAxOCUpO1xcbiAgLS1hY2NlbnQtY29sb3I6IGhzbCgyMjYsIDE5JSwgMTMlKTtcXG4gIC0tbGlnaHQtYWNjZW50LWNvbG9yOiBoc2woMjI2LCAxOSUsIDE2JSk7XFxufVxcblxcbkBtZWRpYSAobWF4LXdpZHRoOiAxMjUwcHgpIHtcXG4gIDpyb290IHtcXG4gICAgZm9udC1zaXplOiBtaW4oMi41dncsIDEwMCUpO1xcbiAgfVxcbn1cXG5cXG5ib2R5IHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJnLWNvbG9yKTtcXG4gIGNvbG9yOiB3aGl0ZTtcXG4gIGZvbnQtZmFtaWx5OiAnUG9wcGlucycsIHNhbnMtc2VyaWY7XFxuXFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBhdXRvIDFmciBhdXRvO1xcbn1cXG5cXG5oZWFkZXIge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgcGFkZGluZy1ibG9jazogMS41cmVtO1xcbiAgZm9udC1zaXplOiA0cmVtO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYWNjZW50LWNvbG9yKTtcXG59XFxuXFxubWFpbi5zaGlwUGxhY2luZyB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBwYWRkaW5nLWJsb2NrOiAxLjVyZW07XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG5cXG5tYWluID4gLmdhbWVPdmVyV3JhcHBlciB7XFxuICBwYWRkaW5nLWJsb2NrOiAxLjVyZW07XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBnYXA6IDAuNXJlbTtcXG59XFxuXFxubWFpbiA+IC5nYW1lT3ZlcldyYXBwZXIgPiAuZ2FtZU92ZXJNZXNzYWdlIHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGZvbnQtc2l6ZTogNXJlbTtcXG59XFxuXFxubWFpbiA+IC5nYW1lT3ZlcldyYXBwZXIgPiBidXR0b24ge1xcbiAgZm9udC1zaXplOiAxLjVyZW07XFxuICBwYWRkaW5nOiAwLjVyZW0gMC43NXJlbTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWFjY2VudC1jb2xvcik7XFxuICBjb2xvcjogd2hpdGU7XFxuICBib3JkZXI6IG5vbmU7XFxuICBib3JkZXItcmFkaXVzOiAwLjVyZW07XFxufVxcblxcbm1haW4gPiAuZ2FtZU92ZXJXcmFwcGVyID4gYnV0dG9uOmhvdmVyIHtcXG4gIGZpbHRlcjogYnJpZ2h0bmVzcygwLjUpO1xcbn1cXG5cXG5tYWluID4gLnBsYXllcnMge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGdhcDogMTB2dztcXG4gIHBhZGRpbmctYmxvY2s6IDEuNXJlbTtcXG59XFxuXFxuQG1lZGlhIChtYXgtd2lkdGg6IDEyNTBweCkge1xcbiAgbWFpbiA+IC5wbGF5ZXJzIHtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgZ2FwOiA0cmVtO1xcbiAgfVxcbn1cXG5cXG5tYWluIC5wbGF5ZXIgPiAudGl0bGUge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgZm9udC1zaXplOiAxLjVyZW07XFxuICBwYWRkaW5nLWxlZnQ6IGNhbGMoMi43NXJlbSArIDJyZW0pO1xcbn1cXG5cXG5tYWluICAucGxheWVyID4gLmJvYXJkIHtcXG4gIGZvbnQtZmFtaWx5OiAnUm9ib3RvIE1vbm8nLCBtb25vc3BhY2U7XFxuICBtYXJnaW4tYm90dG9tOiAxcmVtO1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxufVxcblxcbm1haW4gLnBsYXllciA+IC5ib2FyZCA+IHRyID4gdGQge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbGlnaHQtYWNjZW50LWNvbG9yKTtcXG59XFxuXFxubWFpbjpub3QoLnNoaXBQbGFjaW5nKSAucGxheWVyID4gLmJvYXJkID4gdHIgPiB0ZDpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IpO1xcbn1cXG5cXG5cXG5tYWluIC5wbGF5ZXIgPiAuYm9hcmQgPiB0ciA+IHRoLFxcbm1haW4gLnBsYXllciA+IC5ib2FyZCA+IHRyID4gdGQge1xcbiAgd2lkdGg6IDIuNzVyZW07XFxuICBoZWlnaHQ6IDIuNzVyZW07XFxuICBmb250LXNpemU6IDIuMXJlbTtcXG4gIFxcbiAgLyogb3V0bGluZTogMXB4IHNvbGlkIHJlZDsgKi9cXG59XFxuXFxubWFpbiAucGxheWVyID4gLmJvYXJkID4gdHIgPiB0aDpub3QoOmZpcnN0LWNoaWxkKSB7XFxuICBwYWRkaW5nLWJvdHRvbTogMS41cmVtO1xcbiAgYm9yZGVyLWJvdHRvbTogNHB4IHNvbGlkIHZhcigtLWFjY2VudC1jb2xvcik7XFxufVxcblxcblxcbm1haW4gLnBsYXllciA+IC5ib2FyZCA+IHRyID4gOmZpcnN0LWNoaWxkIHtcXG4gIHBhZGRpbmctcmlnaHQ6IDJyZW07XFxuICBib3JkZXItcmlnaHQ6IDRweCBzb2xpZCB2YXIoLS1hY2NlbnQtY29sb3IpO1xcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XFxufVxcblxcblxcbmZvb3RlciB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBwYWRkaW5nLWJsb2NrOiAxcmVtO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYWNjZW50LWNvbG9yKTtcXG59XFxuXFxubWFpbjpub3QoLnNoaXBQbGFjaW5nKSAucGxheWVyID4gLmJvYXJkID4gdHIgPiB0ZC5zdW5rIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAwLCAwLCAwLjgpO1xcbn1cXG5cXG5tYWluIC5wbGF5ZXIgPiAuYm9hcmQgPiB0ciA+IHRkLnNoaXA6bm90KC5zdW5rKSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDQ4LCAxMjEsIDI1NSwgMC44KTtcXG59XFxuXFxubWFpbi5zaGlwUGxhY2luZyAucGxheWVyID4gLmJvYXJkID4gdHIgPiB0ZC5sZWdhbCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDI1NSwgMCwgMC44KTtcXG5cXG59XFxuXFxubWFpbi5zaGlwUGxhY2luZyAucGxheWVyID4gLmJvYXJkID4gdHIgPiB0ZC5pbGxlZ2FsIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAwLCAwLCAwLjkpO1xcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107XG5cbiAgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07XG5cbiAgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIHVuZGVmaW5lZF1dO1xuICAgIH1cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2tdWzBdO1xuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2tdKTtcbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN1cHBvcnRzKSB7XG4gICAgICAgIGlmICghaXRlbVs0XSkge1xuICAgICAgICAgIGl0ZW1bNF0gPSBcIlwiLmNvbmNhdChzdXBwb3J0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzRdID0gc3VwcG9ydHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5ET00gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXhCeUlkZW50aWZpZXIgIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHVwZGF0ZXIgPSBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMuYnlJbmRleCA9IGk7XG4gICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoaSwgMCwge1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiB1cGRhdGVyLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuXG4gIHZhciB1cGRhdGVyID0gZnVuY3Rpb24gdXBkYXRlcihuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwICYmIG5ld09iai5zdXBwb3J0cyA9PT0gb2JqLnN1cHBvcnRzICYmIG5ld09iai5sYXllciA9PT0gb2JqLmxheWVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB1cGRhdGVyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5ET01bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRE9NW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRE9NLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuXG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG5mdW5jdGlvbiBpbnNlcnRCeVNlbGVjdG9yKGluc2VydCwgc3R5bGUpIHtcbiAgdmFyIHRhcmdldCA9IGdldFRhcmdldChpbnNlcnQpO1xuXG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuXG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0QnlTZWxlY3RvcjsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgb3B0aW9ucy5zZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIG9wdGlvbnMuYXR0cmlidXRlcyk7XG4gIG9wdGlvbnMuaW5zZXJ0KGVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG4gIHJldHVybiBlbGVtZW50O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICBpZiAobm9uY2UpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBcIlwiO1xuXG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG5cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xuICB9XG5cbiAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBvYmoubGF5ZXIgIT09IFwidW5kZWZpbmVkXCI7XG5cbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuXG4gIGNzcyArPSBvYmouY3NzO1xuXG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgb3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbmZ1bmN0aW9uIGRvbUFQSShvcHRpb25zKSB7XG4gIHZhciBzdHlsZUVsZW1lbnQgPSBvcHRpb25zLmluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgcmV0dXJuIHtcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShvYmopIHtcbiAgICAgIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdHlsZVRhZ1RyYW5zZm9ybTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5uYyA9IHVuZGVmaW5lZDsiLCJmdW5jdGlvbiBpc0FycmF5SW5BcnJheShhcnIsIGl0ZW0pIHtcbiAgcmV0dXJuIGFyci5zb21lKChlbGUpID0+IEpTT04uc3RyaW5naWZ5KGVsZSkgPT09IEpTT04uc3RyaW5naWZ5KGl0ZW0pKTtcbn1cblxuY2xhc3MgU2hpcCB7XG4gIGNvbnN0cnVjdG9yKGxlbmd0aCkge1xuICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgIHRoaXMudGltZXNIaXQgPSAwO1xuICB9XG5cbiAgaGl0KCkge1xuICAgIHRoaXMudGltZXNIaXQrKztcbiAgfVxuXG4gIGlzU3VuaygpIHtcbiAgICByZXR1cm4gdGhpcy50aW1lc0hpdCA+PSB0aGlzLmxlbmd0aDtcbiAgfVxufVxuXG5jbGFzcyBHYW1lYm9hcmQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmJvYXJkID0gR2FtZWJvYXJkLmNyZWF0ZUJvYXJkKCk7XG4gICAgdGhpcy5zaGlwcyA9IFtdO1xuICAgIHRoaXMubWlzc2VkQXR0YWNrcyA9IFtdO1xuICAgIHRoaXMuaGl0QXR0YWNrcyA9IFtdO1xuICAgIHRoaXMucG9zc2libGVIaXRzUXVldWUgPSBbXTtcbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGVCb2FyZCgpIHtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgbGV0IHJvdyA9IFtdO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAxMDsgaisrKSB7XG4gICAgICAgIHJvdy5wdXNoKG51bGwpO1xuICAgICAgfVxuICAgICAgcmVzdWx0LnB1c2gocm93KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIHBhcnNlQ29vcmRzKGNvb3Jkcykge1xuICAgIGNvbnN0IGRpY3QgPSB7IEE6IDAsIEI6IDEsIEM6IDIsIEQ6IDMsIEU6IDQsIEY6IDUsIEc6IDYsIEg6IDcsIEk6IDgsIEo6IDkgfTtcblxuICAgIGxldCBbeCwgeV0gPSBjb29yZHM7XG4gICAgeCA9IHgudG9VcHBlckNhc2UoKTtcblxuICAgIGlmICghKHggaW4gZGljdCkgfHwgeSA8IDEgfHwgeSA+IDEwKSByZXR1cm47XG5cbiAgICByZXR1cm4gW3kgLSAxLCBkaWN0W3hdXTtcbiAgfVxuXG4gIHN0YXRpYyBpc0F0dGFja0luQXJyYXkoY29vcmRzLCBhcnJheSkge1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBhcnJheSkge1xuICAgICAgaWYgKGl0ZW1bMF0gPT09IGNvb3Jkc1swXSAmJiBpdGVtWzFdID09PSBjb29yZHNbMV0pIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwbGFjZVNoaXAoc2hpcCwgY29vcmRzLCBvcHRpb25zID0geyB2ZXJ0aWNhbDogZmFsc2UgfSkge1xuICAgIGNvbnN0IFtyb3csIHZhbHVlSW5kZXhdID0gY29vcmRzO1xuXG4gICAgaWYgKCF0aGlzLmNhblBsYWNlU2hpcChzaGlwLCBjb29yZHMsIG9wdGlvbnMpKSByZXR1cm4gZmFsc2U7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChvcHRpb25zLnZlcnRpY2FsKSB0aGlzLmJvYXJkW3JvdyArIGldW3ZhbHVlSW5kZXhdID0gc2hpcDtcbiAgICAgIGVsc2UgdGhpcy5ib2FyZFtyb3ddW3ZhbHVlSW5kZXggKyBpXSA9IHNoaXA7XG4gICAgfVxuXG4gICAgdGhpcy5zaGlwcy5wdXNoKHNoaXApO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgYXJlU2hpcHNTdW5rKCkge1xuICAgIGZvciAoY29uc3Qgc2hpcCBvZiB0aGlzLnNoaXBzKSB7XG4gICAgICBpZiAoIXNoaXAuaXNTdW5rKCkpIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJlY2VpdmVBdHRhY2soY29vcmRzKSB7XG4gICAgY29uc3QgW3JvdywgdmFsdWVJbmRleF0gPSBjb29yZHM7XG5cbiAgICBpZiAodGhpcy5ib2FyZFtyb3ddW3ZhbHVlSW5kZXhdIGluc3RhbmNlb2YgU2hpcCkge1xuICAgICAgdGhpcy5ib2FyZFtyb3ddW3ZhbHVlSW5kZXhdLmhpdCgpO1xuICAgICAgdGhpcy5oaXRBdHRhY2tzLnB1c2goY29vcmRzKTtcblxuICAgICAgLy8gYWRkIGd1YXJhbnRlZWQgZW1wdHkgc3F1YXJlc1xuICAgICAgdGhpcy5taXNzZWRBdHRhY2tzLnB1c2goW3JvdyAtIDEsIHZhbHVlSW5kZXggLSAxXSk7XG4gICAgICB0aGlzLm1pc3NlZEF0dGFja3MucHVzaChbcm93ICsgMSwgdmFsdWVJbmRleCArIDFdKTtcbiAgICAgIHRoaXMubWlzc2VkQXR0YWNrcy5wdXNoKFtyb3cgKyAxLCB2YWx1ZUluZGV4IC0gMV0pO1xuICAgICAgdGhpcy5taXNzZWRBdHRhY2tzLnB1c2goW3JvdyAtIDEsIHZhbHVlSW5kZXggKyAxXSk7XG5cbiAgICAgIGlmICh0aGlzLmJvYXJkW3Jvd11bdmFsdWVJbmRleF0uaXNTdW5rKCkpIHtcbiAgICAgICAgY29uc3Qgc2hpcFNxdWFyZXMgPSB0aGlzLmZpbmRBbGxTaGlwU3F1YXJlcyhcbiAgICAgICAgICB0aGlzLmJvYXJkW3Jvd11bdmFsdWVJbmRleF0ubGVuZ3RoLFxuICAgICAgICAgIGNvb3Jkc1xuICAgICAgICApO1xuXG4gICAgICAgIGZvciAoY29uc3Qgc2hpcFNxdWFyZSBvZiBzaGlwU3F1YXJlcykge1xuICAgICAgICAgIGxldCBbbmV3Um93LCBuZXdWYWx1ZUluZGV4XSA9IHNoaXBTcXVhcmU7XG5cbiAgICAgICAgICBpZiAoIWlzQXJyYXlJbkFycmF5KHRoaXMuaGl0QXR0YWNrcywgW25ld1JvdyAtIDEsIG5ld1ZhbHVlSW5kZXhdKSlcbiAgICAgICAgICAgIHRoaXMubWlzc2VkQXR0YWNrcy5wdXNoKFtuZXdSb3cgLSAxLCBuZXdWYWx1ZUluZGV4XSk7XG4gICAgICAgICAgaWYgKCFpc0FycmF5SW5BcnJheSh0aGlzLmhpdEF0dGFja3MsIFtuZXdSb3cgKyAxLCBuZXdWYWx1ZUluZGV4XSkpXG4gICAgICAgICAgICB0aGlzLm1pc3NlZEF0dGFja3MucHVzaChbbmV3Um93ICsgMSwgbmV3VmFsdWVJbmRleF0pO1xuICAgICAgICAgIGlmICghaXNBcnJheUluQXJyYXkodGhpcy5oaXRBdHRhY2tzLCBbbmV3Um93LCBuZXdWYWx1ZUluZGV4IC0gMV0pKVxuICAgICAgICAgICAgdGhpcy5taXNzZWRBdHRhY2tzLnB1c2goW25ld1JvdywgbmV3VmFsdWVJbmRleCAtIDFdKTtcbiAgICAgICAgICBpZiAoIWlzQXJyYXlJbkFycmF5KHRoaXMuaGl0QXR0YWNrcywgW25ld1JvdywgbmV3VmFsdWVJbmRleCArIDFdKSlcbiAgICAgICAgICAgIHRoaXMubWlzc2VkQXR0YWNrcy5wdXNoKFtuZXdSb3csIG5ld1ZhbHVlSW5kZXggKyAxXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5taXNzZWRBdHRhY2tzLnB1c2goY29vcmRzKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjYW5QbGFjZVNoaXAoc2hpcCwgY29vcmRzLCBvcHRpb25zID0geyB2ZXJ0aWNhbDogZmFsc2UgfSkge1xuICAgIGNvbnN0IFtyb3csIHZhbHVlSW5kZXhdID0gY29vcmRzO1xuXG4gICAgY29uc3QgYXhpcyA9IG9wdGlvbnMudmVydGljYWwgPyByb3cgOiB2YWx1ZUluZGV4O1xuICAgIGlmIChheGlzICsgc2hpcC5sZW5ndGggPiAxMCkgcmV0dXJuIGZhbHNlOyAvLyBjaGVjayBpZiBzaGlwIGZpdHNcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gY2hlY2sgaWYgbm8gc2hpcCBpbiB0aGUgd2F5XG4gICAgICBsZXQgY3VyUm93ID0gcm93O1xuICAgICAgbGV0IGN1clZhbEluZGV4ID0gdmFsdWVJbmRleDtcblxuICAgICAgaWYgKG9wdGlvbnMudmVydGljYWwpIGN1clJvdyArPSBpO1xuICAgICAgaWYgKCFvcHRpb25zLnZlcnRpY2FsKSBjdXJWYWxJbmRleCArPSBpO1xuXG4gICAgICAvLyBjaGVjayBpZiBubyBzaGlwIHRvbyBjbG9zZVxuICAgICAgaWYgKHRoaXMuYm9hcmRbY3VyUm93XVtjdXJWYWxJbmRleF0gaW5zdGFuY2VvZiBTaGlwKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAoXG4gICAgICAgIGN1clZhbEluZGV4IDwgOSAmJlxuICAgICAgICB0aGlzLmJvYXJkW2N1clJvd11bY3VyVmFsSW5kZXggKyAxXSBpbnN0YW5jZW9mIFNoaXBcbiAgICAgIClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKFxuICAgICAgICBjdXJWYWxJbmRleCA+IDAgJiZcbiAgICAgICAgdGhpcy5ib2FyZFtjdXJSb3ddW2N1clZhbEluZGV4IC0gMV0gaW5zdGFuY2VvZiBTaGlwXG4gICAgICApXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIGlmIChjdXJSb3cgPCA5KSB7XG4gICAgICAgIGlmICh0aGlzLmJvYXJkW2N1clJvdyArIDFdW2N1clZhbEluZGV4XSBpbnN0YW5jZW9mIFNoaXApIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuYm9hcmRbY3VyUm93ICsgMV1bY3VyVmFsSW5kZXggKyAxXSBpbnN0YW5jZW9mIFNoaXApXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5ib2FyZFtjdXJSb3cgKyAxXVtjdXJWYWxJbmRleCAtIDFdIGluc3RhbmNlb2YgU2hpcClcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoY3VyUm93ID4gMCkge1xuICAgICAgICBpZiAodGhpcy5ib2FyZFtjdXJSb3cgLSAxXVtjdXJWYWxJbmRleF0gaW5zdGFuY2VvZiBTaGlwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLmJvYXJkW2N1clJvdyAtIDFdW2N1clZhbEluZGV4ICsgMV0gaW5zdGFuY2VvZiBTaGlwKVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuYm9hcmRbY3VyUm93IC0gMV1bY3VyVmFsSW5kZXggLSAxXSBpbnN0YW5jZW9mIFNoaXApXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZ2V0U3F1YXJlc0NvdmVyZWRCeU5ld1NoaXAoc2hpcCwgY29vcmRzLCBvcHRpb25zID0geyB2ZXJ0aWNhbDogZmFsc2UgfSkge1xuICAgIGNvbnN0IFtyb3csIHZhbHVlSW5kZXhdID0gY29vcmRzO1xuXG4gICAgY29uc3Qgc3F1YXJlc0NvdmVyZWQgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKG9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgaWYgKHJvdyArIGkgPiA5KSByZXR1cm4gc3F1YXJlc0NvdmVyZWQ7XG4gICAgICAgIHNxdWFyZXNDb3ZlcmVkLnB1c2goW3JvdyArIGksIHZhbHVlSW5kZXhdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh2YWx1ZUluZGV4ICsgaSA+IDkpIHJldHVybiBzcXVhcmVzQ292ZXJlZDtcbiAgICAgICAgc3F1YXJlc0NvdmVyZWQucHVzaChbcm93LCB2YWx1ZUluZGV4ICsgaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3F1YXJlc0NvdmVyZWQ7XG4gIH1cblxuICBnZXROZXh0U2hpcExlbmd0aFRvUGxhY2UoKSB7XG4gICAgY29uc3Qgc2hpcHNMZW5ndGhPcmRlciA9IFs0LCAzLCAzLCAyLCAyLCAyLCAxLCAxLCAxLCAxXTtcblxuICAgIGNvbnN0IHBsYXllclNoaXBzTGVuZ3RocyA9IHRoaXMuc2hpcHMubWFwKChzaGlwKSA9PiBzaGlwLmxlbmd0aCk7XG4gICAgY29uc3QgY3VycmVudFNoaXBMZW5ndGggPSBzaGlwc0xlbmd0aE9yZGVyW3BsYXllclNoaXBzTGVuZ3Rocy5sZW5ndGhdO1xuXG4gICAgcmV0dXJuIGN1cnJlbnRTaGlwTGVuZ3RoO1xuICB9XG5cbiAgZmlsbFJhbmRvbWx5KCkge1xuICAgIHdoaWxlICh0aGlzLmdldE5leHRTaGlwTGVuZ3RoVG9QbGFjZSgpKSB7XG4gICAgICBsZXQgY3VyclNoaXAgPSBuZXcgU2hpcCh0aGlzLmdldE5leHRTaGlwTGVuZ3RoVG9QbGFjZSgpKTtcblxuICAgICAgbGV0IHJhbmRvbUNvb3JkcyA9IFtcbiAgICAgICAgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApLFxuICAgICAgICBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCksXG4gICAgICBdO1xuXG4gICAgICBsZXQgcmFuZG9tVmVydGljYWwgPSBNYXRoLnJhbmRvbSgpIDwgMC41O1xuXG4gICAgICB0aGlzLnBsYWNlU2hpcChjdXJyU2hpcCwgcmFuZG9tQ29vcmRzLCB7IHZlcnRpY2FsOiByYW5kb21WZXJ0aWNhbCB9KTtcbiAgICB9XG4gIH1cblxuICBmaW5kQWxsU2hpcFNxdWFyZXMobGVuZ3RoLCBjb29yZHMpIHtcbiAgICBjb25zdCBbcm93LCB2YWx1ZUluZGV4XSA9IGNvb3JkcztcblxuICAgIGNvbnN0IHJlc3VsdCA9IFtjb29yZHNdO1xuXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHJvdyArIGkgPiA5KSBicmVhaztcblxuICAgICAgaWYgKHRoaXMuYm9hcmRbcm93ICsgaV1bdmFsdWVJbmRleF0gaW5zdGFuY2VvZiBTaGlwKVxuICAgICAgICByZXN1bHQucHVzaChbcm93ICsgaSwgdmFsdWVJbmRleF0pO1xuICAgICAgZWxzZSBicmVhaztcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocm93IC0gaSA8IDApIGJyZWFrO1xuXG4gICAgICBpZiAodGhpcy5ib2FyZFtyb3cgLSBpXVt2YWx1ZUluZGV4XSBpbnN0YW5jZW9mIFNoaXApXG4gICAgICAgIHJlc3VsdC5wdXNoKFtyb3cgLSBpLCB2YWx1ZUluZGV4XSk7XG4gICAgICBlbHNlIGJyZWFrO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh2YWx1ZUluZGV4ICsgaSA+IDkpIGJyZWFrO1xuXG4gICAgICBpZiAodGhpcy5ib2FyZFtyb3ddW3ZhbHVlSW5kZXggKyBpXSBpbnN0YW5jZW9mIFNoaXApXG4gICAgICAgIHJlc3VsdC5wdXNoKFtyb3csIHZhbHVlSW5kZXggKyBpXSk7XG4gICAgICBlbHNlIGJyZWFrO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh2YWx1ZUluZGV4IC0gaSA8IDApIGJyZWFrO1xuXG4gICAgICBpZiAodGhpcy5ib2FyZFtyb3ddW3ZhbHVlSW5kZXggLSBpXSBpbnN0YW5jZW9mIFNoaXApXG4gICAgICAgIHJlc3VsdC5wdXNoKFtyb3csIHZhbHVlSW5kZXggLSBpXSk7XG4gICAgICBlbHNlIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBhZGRBZGphY2VudFNxdWFyZXNUb1F1ZXVlKGNvb3Jkcykge1xuICAgIGNvbnN0IFtyb3csIHZhbHVlSW5kZXhdID0gY29vcmRzO1xuICAgIGNvbnN0IHF1ZXVlID0gdGhpcy5wb3NzaWJsZUhpdHNRdWV1ZTtcblxuICAgIGlmIChyb3cgPiAwKSBxdWV1ZS5wdXNoKFtyb3cgLSAxLCB2YWx1ZUluZGV4XSk7XG4gICAgaWYgKHZhbHVlSW5kZXggPCA5KSBxdWV1ZS5wdXNoKFtyb3csIHZhbHVlSW5kZXggKyAxXSk7XG4gICAgaWYgKHJvdyA8IDkpIHF1ZXVlLnB1c2goW3JvdyArIDEsIHZhbHVlSW5kZXhdKTtcbiAgICBpZiAodmFsdWVJbmRleCA+IDApIHF1ZXVlLnB1c2goW3JvdywgdmFsdWVJbmRleCAtIDFdKTtcbiAgfVxufVxuXG5jbGFzcyBQbGF5ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmdhbWVib2FyZCA9IG5ldyBHYW1lYm9hcmQoKTtcbiAgfVxuXG4gIGF0dGFjayhwbGF5ZXIsIGNvb3Jkcykge1xuICAgIHJldHVybiBwbGF5ZXIuZ2FtZWJvYXJkLnJlY2VpdmVBdHRhY2soY29vcmRzKTtcbiAgfVxuXG4gIGF0dGFja1JhbmRvbShwbGF5ZXIpIHtcbiAgICAvLyByZW1vdmUgbWlzc2VkIGFuZCBoaXQgYXR0YWNrcyBmcm9tIHF1ZXVlXG4gICAgY29uc3QgcEdib2FyZCA9IHBsYXllci5nYW1lYm9hcmQ7XG5cbiAgICBjb25zdCB1c2VkQXR0YWNrcyA9IHBHYm9hcmQubWlzc2VkQXR0YWNrcy5jb25jYXQocEdib2FyZC5oaXRBdHRhY2tzKTtcblxuICAgIHBHYm9hcmQucG9zc2libGVIaXRzUXVldWUgPSBwR2JvYXJkLnBvc3NpYmxlSGl0c1F1ZXVlLmZpbHRlcihcbiAgICAgIChxdWV1ZWRBdHRhY2spID0+ICFpc0FycmF5SW5BcnJheSh1c2VkQXR0YWNrcywgcXVldWVkQXR0YWNrKVxuICAgICk7XG5cbiAgICAvLyBnZXQgY29vcmRzIGZyb20gcXVldWUgcmFuZG9tbHksIGlmIHF1ZXVlIGVtcHR5IHRoZW4gcm9sbFxuICAgIGlmIChwR2JvYXJkLnBvc3NpYmxlSGl0c1F1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHJhbmRJbmRleCA9IE1hdGguZmxvb3IoXG4gICAgICAgIE1hdGgucmFuZG9tKCkgKiBwR2JvYXJkLnBvc3NpYmxlSGl0c1F1ZXVlLmxlbmd0aFxuICAgICAgKTtcblxuICAgICAgY29uc3QgcmFuZFBvc3NpYmxlSGl0ID0gcEdib2FyZC5wb3NzaWJsZUhpdHNRdWV1ZVtyYW5kSW5kZXhdO1xuXG4gICAgICBpZiAocEdib2FyZC5yZWNlaXZlQXR0YWNrKHJhbmRQb3NzaWJsZUhpdCkpIHtcbiAgICAgICAgcEdib2FyZC5hZGRBZGphY2VudFNxdWFyZXNUb1F1ZXVlKHJhbmRQb3NzaWJsZUhpdCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgcm93ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xuICAgIGNvbnN0IHZhbHVlSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG5cbiAgICBjb25zdCBjb29yZHMgPSBbcm93LCB2YWx1ZUluZGV4XTtcblxuICAgIGZvciAoY29uc3QgdXNlZEF0dGFjayBvZiB1c2VkQXR0YWNrcykge1xuICAgICAgaWYgKHVzZWRBdHRhY2tbMF0gPT09IGNvb3Jkc1swXSAmJiB1c2VkQXR0YWNrWzFdID09PSBjb29yZHNbMV0pIHtcbiAgICAgICAgdGhpcy5hdHRhY2tSYW5kb20ocGxheWVyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwR2JvYXJkLnJlY2VpdmVBdHRhY2soY29vcmRzKSkge1xuICAgICAgcEdib2FyZC5hZGRBZGphY2VudFNxdWFyZXNUb1F1ZXVlKGNvb3Jkcyk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IFNoaXAsIEdhbWVib2FyZCwgUGxheWVyIH07XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBGb290ZXIoKSB7XG4gIGNvbnN0IGZvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvb3RlcicpO1xuICBjb25zdCB5ZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xuICBmb290ZXIuaW5uZXJIVE1MID0gYEAgJHt5ZWFyfSBFdGhlcnllbmA7XG5cbiAgcmV0dXJuIGZvb3Rlcjtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhlYWRlcigpIHtcbiAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaGVhZGVyJyk7XG4gIGNvbnN0IGgxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDEnKTtcblxuICBoMS5pbm5lckhUTUwgPSAnQmF0dGxlc2hpcCc7XG5cbiAgaGVhZGVyLmFwcGVuZENoaWxkKGgxKTtcblxuICByZXR1cm4gaGVhZGVyO1xufVxuIiwiaW1wb3J0IHsgR2FtZWJvYXJkLCBTaGlwIH0gZnJvbSAnLi4vanMvY2xhc3Nlcyc7XG5pbXBvcnQgcmVuZGVyQXBwIGZyb20gJy4uL2pzL3JlbmRlckFwcCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBsYXllckVsKHtcbiAgcGxheWVyT2JqLFxuICB0aXRsZSxcbiAgaXNFbmVteSA9IGZhbHNlLFxuICBhdHRhY2tpbmdQbGF5ZXJPYmosXG4gIGlzR2FtZU92ZXIsXG59KSB7XG4gIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgd3JhcHBlci5jbGFzc05hbWUgPSAncGxheWVyJztcblxuICBjb25zdCBib2FyZEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcbiAgYm9hcmRFbC5jbGFzc05hbWUgPSAnYm9hcmQnO1xuXG4gIGxldCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICByb3cuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpO1xuXG4gIGNvbnN0IGNvbHVtbnMgPSBbJ0EnLCAnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onXTtcblxuICBmb3IgKGNvbnN0IGNvbE5hbWUgb2YgY29sdW1ucykge1xuICAgIGxldCBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpO1xuICAgIGNvbHVtbi5pbm5lckhUTUwgPSBjb2xOYW1lO1xuICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuICB9XG5cbiAgYm9hcmRFbC5hcHBlbmRDaGlsZChyb3cpO1xuXG4gIGZvciAobGV0IHJvd051bSA9IDA7IHJvd051bSA8IDEwOyByb3dOdW0rKykge1xuICAgIGxldCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgIGZvciAobGV0IGNvbE51bSA9IC0xOyBjb2xOdW0gPCAxMDsgY29sTnVtKyspIHtcbiAgICAgIGxldCB0aWxlID0gY3JlYXRlVGlsZShbcm93TnVtLCBjb2xOdW1dKTtcbiAgICAgIHJvdy5hcHBlbmRDaGlsZCh0aWxlKTtcbiAgICB9XG4gICAgYm9hcmRFbC5hcHBlbmRDaGlsZChyb3cpO1xuICB9XG5cbiAgY29uc3QgdGl0bGVFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gxJyk7XG4gIHRpdGxlRWwuY2xhc3NOYW1lID0gJ3RpdGxlJztcbiAgdGl0bGVFbC5pbm5lckhUTUwgPSB0aXRsZTtcblxuICB3cmFwcGVyLmFwcGVuZENoaWxkKGJvYXJkRWwpO1xuICB3cmFwcGVyLmFwcGVuZENoaWxkKHRpdGxlRWwpO1xuICByZXR1cm4gd3JhcHBlcjtcblxuICAvLyBoZWxwZXIgZnVuY3Rpb25zXG5cbiAgZnVuY3Rpb24gc3R5bGVUaWxlKHRpbGUsIGNvb3Jkcykge1xuICAgIGNvbnN0IFtyb3dOdW0sIGNvbE51bV0gPSBjb29yZHM7XG4gICAgY29uc3QgcEdib2FyZCA9IHBsYXllck9iai5nYW1lYm9hcmQ7XG5cbiAgICBpZiAoR2FtZWJvYXJkLmlzQXR0YWNrSW5BcnJheShjb29yZHMsIHBHYm9hcmQubWlzc2VkQXR0YWNrcykpIHtcbiAgICAgIHRpbGUuaW5uZXJIVE1MID0gJ8K3JztcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoR2FtZWJvYXJkLmlzQXR0YWNrSW5BcnJheShjb29yZHMsIHBHYm9hcmQuaGl0QXR0YWNrcykpIHtcbiAgICAgIHRpbGUuaW5uZXJIVE1MID0gJ+KclSc7XG4gICAgICBpZiAocEdib2FyZC5ib2FyZFtyb3dOdW1dW2NvbE51bV0/LmlzU3VuaygpKSB0aWxlLmNsYXNzTGlzdC5hZGQoJ3N1bmsnKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzRW5lbXkpIHtcbiAgICAgIGNvbnN0IGlzU2hpcCA9IHBsYXllck9iai5nYW1lYm9hcmQuYm9hcmRbcm93TnVtXVtjb2xOdW1dIGluc3RhbmNlb2YgU2hpcDtcbiAgICAgIGlmIChpc1NoaXApIHRpbGUuY2xhc3NMaXN0LmFkZCgnc2hpcCcpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVRpbGUoY29vcmRzKSB7XG4gICAgY29uc3QgW3Jvd051bSwgY29sTnVtXSA9IGNvb3JkcztcblxuICAgIGlmIChjb2xOdW0gPCAwKSB7XG4gICAgICBjb25zdCB0aWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGgnKTtcbiAgICAgIHRpbGUuaW5uZXJIVE1MID0gcm93TnVtICsgMTtcbiAgICAgIHJldHVybiB0aWxlO1xuICAgIH1cblxuICAgIGNvbnN0IHBHYm9hcmQgPSBwbGF5ZXJPYmouZ2FtZWJvYXJkO1xuXG4gICAgY29uc3QgdGlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgc3R5bGVUaWxlKHRpbGUsIGNvb3Jkcyk7XG5cbiAgICBpZiAoXG4gICAgICBpc0VuZW15ICYmXG4gICAgICAhR2FtZWJvYXJkLmlzQXR0YWNrSW5BcnJheShcbiAgICAgICAgY29vcmRzLFxuICAgICAgICBwR2JvYXJkLm1pc3NlZEF0dGFja3MuY29uY2F0KHBHYm9hcmQuaGl0QXR0YWNrcylcbiAgICAgIClcbiAgICApIHtcbiAgICAgIC8vIHR1cm5zXG4gICAgICBpZiAoaXNHYW1lT3ZlcikgcmV0dXJuIHRpbGU7XG4gICAgICB0aWxlLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgIGF0dGFja2luZ1BsYXllck9iai5hdHRhY2socGxheWVyT2JqLCBjb29yZHMpO1xuXG4gICAgICAgIGlmICghcGxheWVyT2JqLmdhbWVib2FyZC5hcmVTaGlwc1N1bmsoKSkge1xuICAgICAgICAgIHBsYXllck9iai5hdHRhY2tSYW5kb20oYXR0YWNraW5nUGxheWVyT2JqKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGlzR2FtZU92ZXIgPVxuICAgICAgICAgIGF0dGFja2luZ1BsYXllck9iai5nYW1lYm9hcmQuYXJlU2hpcHNTdW5rKCkgfHxcbiAgICAgICAgICBwbGF5ZXJPYmouZ2FtZWJvYXJkLmFyZVNoaXBzU3VuaygpO1xuXG4gICAgICAgIHJlbmRlckFwcCh7XG4gICAgICAgICAgcGxheWVyOiBhdHRhY2tpbmdQbGF5ZXJPYmosXG4gICAgICAgICAgY29tcHV0ZXI6IHBsYXllck9iaixcbiAgICAgICAgICBpc0dhbWVPdmVyLFxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB0aWxlO1xuICB9XG59XG4iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tICcuLi9qcy9jbGFzc2VzJztcbmltcG9ydCByZW5kZXJTaGlwUGxhY2luZyBmcm9tICcuLi9qcy9yZW5kZXJTaGlwUGxhY2luZyc7XG5pbXBvcnQgUGxheWVyRWwgZnJvbSAnLi9QbGF5ZXJFbCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1haW4oeyBwbGF5ZXIsIGNvbXB1dGVyLCBpc0dhbWVPdmVyIH0pIHtcbiAgY29uc3QgbWFpbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ21haW4nKTtcblxuICBpZiAoaXNHYW1lT3Zlcikge1xuICAgIGNvbnN0IGdhbWVPdmVyV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGdhbWVPdmVyV3JhcHBlci5jbGFzc05hbWUgPSAnZ2FtZU92ZXJXcmFwcGVyJztcblxuICAgIGNvbnN0IGdhbWVPdmVyTWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGdhbWVPdmVyTWVzc2FnZS5jbGFzc05hbWUgPSAnZ2FtZU92ZXJNZXNzYWdlJztcblxuICAgIGNvbnN0IG1lc3NhZ2UgPSBwbGF5ZXIuZ2FtZWJvYXJkLmFyZVNoaXBzU3VuaygpID8gJ0RlZmVhdCEnIDogJ1ZpY3RvcnkhJztcbiAgICBnYW1lT3Zlck1lc3NhZ2UuaW5uZXJIVE1MID0gbWVzc2FnZTtcblxuICAgIGNvbnN0IHBsYXlBZ2FpbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIHBsYXlBZ2Fpbi5pbm5lckhUTUwgPSAnUGxheSBhZ2Fpbic7XG4gICAgcGxheUFnYWluLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICByZW5kZXJTaGlwUGxhY2luZyh7IHBsYXllcjogbmV3IFBsYXllcigpIH0pO1xuICAgIH07XG5cbiAgICBnYW1lT3ZlcldyYXBwZXIuYXBwZW5kQ2hpbGQoZ2FtZU92ZXJNZXNzYWdlKTtcbiAgICBnYW1lT3ZlcldyYXBwZXIuYXBwZW5kQ2hpbGQocGxheUFnYWluKTtcbiAgICBtYWluLmFwcGVuZENoaWxkKGdhbWVPdmVyV3JhcHBlcik7XG4gIH1cblxuICBjb25zdCBwbGF5ZXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHBsYXllcnMuY2xhc3NOYW1lID0gJ3BsYXllcnMnO1xuXG4gIHBsYXllcnMuYXBwZW5kQ2hpbGQoXG4gICAgUGxheWVyRWwoeyBwbGF5ZXJPYmo6IHBsYXllciwgdGl0bGU6ICdQbGF5ZXInLCBpc0dhbWVPdmVyIH0pXG4gICk7XG4gIHBsYXllcnMuYXBwZW5kQ2hpbGQoXG4gICAgUGxheWVyRWwoe1xuICAgICAgcGxheWVyT2JqOiBjb21wdXRlcixcbiAgICAgIHRpdGxlOiAnQ29tcHV0ZXInLFxuICAgICAgaXNFbmVteTogdHJ1ZSxcbiAgICAgIGF0dGFja2luZ1BsYXllck9iajogcGxheWVyLFxuICAgICAgaXNHYW1lT3ZlcixcbiAgICB9KVxuICApO1xuXG4gIG1haW4uYXBwZW5kQ2hpbGQocGxheWVycyk7XG5cbiAgcmV0dXJuIG1haW47XG59XG4iLCJpbXBvcnQgRm9vdGVyIGZyb20gJy4uL2NvbXBvbmVudHMvRm9vdGVyJztcbmltcG9ydCBIZWFkZXIgZnJvbSAnLi4vY29tcG9uZW50cy9IZWFkZXInO1xuaW1wb3J0IE1haW4gZnJvbSAnLi4vY29tcG9uZW50cy9NYWluJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVuZGVyQXBwKHsgcGxheWVyLCBjb21wdXRlciwgaXNHYW1lT3ZlciB9KSB7XG4gIGNvbnN0IGVsZW1lbnRzID0gW1xuICAgIEhlYWRlcigpLFxuICAgIE1haW4oe1xuICAgICAgcGxheWVyLFxuICAgICAgY29tcHV0ZXIsXG4gICAgICBpc0dhbWVPdmVyLFxuICAgIH0pLFxuICAgIEZvb3RlcigpLFxuICBdO1xuXG4gIGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MID0gJyc7XG4gIGZvciAoY29uc3QgZWwgb2YgZWxlbWVudHMpIHtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUGxheWVyLCBTaGlwIH0gZnJvbSAnLi4vanMvY2xhc3Nlcyc7XG5pbXBvcnQgcmVuZGVyQXBwIGZyb20gJy4uL2pzL3JlbmRlckFwcCc7XG5pbXBvcnQgcmVuZGVyU2hpcFBsYWNpbmcgZnJvbSAnLi4vanMvcmVuZGVyU2hpcFBsYWNpbmcnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTaGlwUGxhY2luZyh7XG4gIHBsYXllcixcbiAgaG92ZXJlZFNxdWFyZSxcbiAgdmVydGljYWwgPSBmYWxzZSxcbn0pIHtcbiAgY29uc3QgbWFpbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ21haW4nKTtcbiAgbWFpbi5jbGFzc05hbWUgPSAnc2hpcFBsYWNpbmcnO1xuXG4gIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgd3JhcHBlci5jbGFzc05hbWUgPSAncGxheWVyJztcblxuICBjb25zdCBib2FyZEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcbiAgYm9hcmRFbC5jbGFzc05hbWUgPSAnYm9hcmQnO1xuXG4gIGxldCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICByb3cuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpO1xuXG4gIGNvbnN0IGNvbHVtbnMgPSBbJ0EnLCAnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onXTtcblxuICBmb3IgKGNvbnN0IGNvbE5hbWUgb2YgY29sdW1ucykge1xuICAgIGxldCBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpO1xuICAgIGNvbHVtbi5pbm5lckhUTUwgPSBjb2xOYW1lO1xuICAgIHJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xuICB9XG5cbiAgYm9hcmRFbC5hcHBlbmRDaGlsZChyb3cpO1xuXG4gIGZvciAobGV0IHJvd051bSA9IDA7IHJvd051bSA8IDEwOyByb3dOdW0rKykge1xuICAgIGxldCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgIGZvciAobGV0IGNvbE51bSA9IC0xOyBjb2xOdW0gPCAxMDsgY29sTnVtKyspIHtcbiAgICAgIGxldCB0aWxlID0gY3JlYXRlVGlsZShbcm93TnVtLCBjb2xOdW1dKTtcbiAgICAgIHJvdy5hcHBlbmRDaGlsZCh0aWxlKTtcbiAgICB9XG4gICAgYm9hcmRFbC5hcHBlbmRDaGlsZChyb3cpO1xuICB9XG5cbiAgY29uc3QgdGl0bGVFbDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMScpO1xuICB0aXRsZUVsMS5jbGFzc05hbWUgPSAndGl0bGUnO1xuICB0aXRsZUVsMS5pbm5lckhUTUwgPSAnUGxhY2UgeW91ciBzaGlwcyc7XG5cbiAgY29uc3QgdGl0bGVFbDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMScpO1xuICB0aXRsZUVsMi5jbGFzc05hbWUgPSAndGl0bGUnO1xuICB0aXRsZUVsMi5pbm5lckhUTUwgPSAnSGl0IFNQQUNFIHRvIGZsaXAgOTDCsCc7XG5cbiAgd3JhcHBlci5hcHBlbmRDaGlsZChib2FyZEVsKTtcbiAgd3JhcHBlci5hcHBlbmRDaGlsZCh0aXRsZUVsMSk7XG4gIHdyYXBwZXIuYXBwZW5kQ2hpbGQodGl0bGVFbDIpO1xuXG4gIG1haW4uYXBwZW5kQ2hpbGQod3JhcHBlcik7XG5cbiAgbWFpbi5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIGhhbmRsZUtleVByZXNzKTtcbiAgbWFpbi50YWJJbmRleCA9IDA7XG4gIHJldHVybiBtYWluO1xuXG4gIC8vIGhlbHBlciBmdW5jdGlvbnNcblxuICBmdW5jdGlvbiBjcmVhdGVUaWxlKGNvb3Jkcykge1xuICAgIGNvbnN0IFtyb3dOdW0sIGNvbE51bV0gPSBjb29yZHM7XG5cbiAgICBpZiAoY29sTnVtIDwgMCkge1xuICAgICAgY29uc3QgdGlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoJyk7XG4gICAgICB0aWxlLmlubmVySFRNTCA9IHJvd051bSArIDE7XG4gICAgICByZXR1cm4gdGlsZTtcbiAgICB9XG5cbiAgICBjb25zdCB0aWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcblxuICAgIGNvbnN0IGlzU2hpcCA9IHBsYXllci5nYW1lYm9hcmQuYm9hcmRbcm93TnVtXVtjb2xOdW1dIGluc3RhbmNlb2YgU2hpcDtcbiAgICB0aWxlLmNsYXNzTmFtZSA9IGlzU2hpcCA/ICdzaGlwJyA6ICcnO1xuXG4gICAgLy8gZG9udCBwdXQgZXZlbnQgbGlzdGVuZXIgb24gaG92ZXJlZCBzcXVhcmUgdG8gcHJldmVudCBpbmZpbml0ZSByZW5kZXJzXG4gICAgaWYgKGNvb3Jkcy50b1N0cmluZygpICE9PSBob3ZlcmVkU3F1YXJlPy50b1N0cmluZygpKSB7XG4gICAgICB0aWxlLm9ubW91c2VlbnRlciA9ICgpID0+IHtcbiAgICAgICAgcmVuZGVyU2hpcFBsYWNpbmcoe1xuICAgICAgICAgIHBsYXllcixcbiAgICAgICAgICBob3ZlcmVkU3F1YXJlOiBbcm93TnVtLCBjb2xOdW1dLFxuICAgICAgICAgIHZlcnRpY2FsLFxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdGlsZS5vbm1vdXNlbGVhdmUgPSAoKSA9PiB7XG4gICAgICByZW5kZXJTaGlwUGxhY2luZyh7XG4gICAgICAgIHBsYXllcixcbiAgICAgICAgaG92ZXJlZFNxdWFyZTogdW5kZWZpbmVkLFxuICAgICAgICB2ZXJ0aWNhbCxcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBpZiAoaG92ZXJlZFNxdWFyZSkge1xuICAgICAgY29uc3QgcEdib2FyZCA9IHBsYXllci5nYW1lYm9hcmQ7XG4gICAgICBjb25zdCBjdXJyZW50U2hpcExlbmd0aCA9IHBHYm9hcmQuZ2V0TmV4dFNoaXBMZW5ndGhUb1BsYWNlKCk7XG4gICAgICBjb25zdCBjdXJyU2hpcCA9IG5ldyBTaGlwKGN1cnJlbnRTaGlwTGVuZ3RoKTtcbiAgICAgIGNvbnN0IGlzTGVnYWwgPSBwR2JvYXJkLmNhblBsYWNlU2hpcChjdXJyU2hpcCwgaG92ZXJlZFNxdWFyZSwge1xuICAgICAgICB2ZXJ0aWNhbCxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBjb3ZlcmVkU3F1YXJlcyA9IHBHYm9hcmQuZ2V0U3F1YXJlc0NvdmVyZWRCeU5ld1NoaXAoXG4gICAgICAgIGN1cnJTaGlwLFxuICAgICAgICBob3ZlcmVkU3F1YXJlLFxuICAgICAgICB7XG4gICAgICAgICAgdmVydGljYWwsXG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIGlmIChpc0FycmF5SW5BcnJheShjb3ZlcmVkU3F1YXJlcywgY29vcmRzKSkge1xuICAgICAgICB0aWxlLmNsYXNzTmFtZSA9IGlzTGVnYWwgPyAnbGVnYWwnIDogJ2lsbGVnYWwnO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNMZWdhbCAmJiBjb29yZHMudG9TdHJpbmcoKSA9PT0gaG92ZXJlZFNxdWFyZT8udG9TdHJpbmcoKSkge1xuICAgICAgICB0aWxlLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgcEdib2FyZC5wbGFjZVNoaXAoY3VyclNoaXAsIGhvdmVyZWRTcXVhcmUsIHsgdmVydGljYWwgfSk7XG4gICAgICAgICAgaWYgKHBHYm9hcmQuZ2V0TmV4dFNoaXBMZW5ndGhUb1BsYWNlKCkpIHtcbiAgICAgICAgICAgIHJlbmRlclNoaXBQbGFjaW5nKHtcbiAgICAgICAgICAgICAgcGxheWVyLFxuICAgICAgICAgICAgICBob3ZlcmVkU3F1YXJlLFxuICAgICAgICAgICAgICB2ZXJ0aWNhbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGNvbXB1dGVyID0gbmV3IFBsYXllcigpO1xuICAgICAgICAgIGNvbXB1dGVyLmdhbWVib2FyZC5maWxsUmFuZG9tbHkoKTtcblxuICAgICAgICAgIHJlbmRlckFwcCh7IHBsYXllciwgY29tcHV0ZXIgfSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRpbGU7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVLZXlQcmVzcyhldmVudCkge1xuICAgIGlmIChldmVudC5jb2RlID09PSAnU3BhY2UnKVxuICAgICAgcmVuZGVyU2hpcFBsYWNpbmcoeyBwbGF5ZXIsIGhvdmVyZWRTcXVhcmUsIHZlcnRpY2FsOiAhdmVydGljYWwgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNBcnJheUluQXJyYXkoYXJyLCBpdGVtKSB7XG4gIHJldHVybiBhcnIuc29tZSgoZWxlKSA9PiBKU09OLnN0cmluZ2lmeShlbGUpID09PSBKU09OLnN0cmluZ2lmeShpdGVtKSk7XG59XG4iLCJpbXBvcnQgRm9vdGVyIGZyb20gJy4uL2NvbXBvbmVudHMvRm9vdGVyJztcbmltcG9ydCBIZWFkZXIgZnJvbSAnLi4vY29tcG9uZW50cy9IZWFkZXInO1xuaW1wb3J0IFNoaXBQbGFjaW5nIGZyb20gJy4uL2NvbXBvbmVudHMvU2hpcFBsYWNpbmcnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZW5kZXJTaGlwUGxhY2luZyh7IHBsYXllciwgaG92ZXJlZFNxdWFyZSwgdmVydGljYWwgfSkge1xuICBjb25zdCBlbGVtZW50cyA9IFtcbiAgICBIZWFkZXIoKSxcbiAgICBTaGlwUGxhY2luZyh7XG4gICAgICBwbGF5ZXIsXG4gICAgICBob3ZlcmVkU3F1YXJlLFxuICAgICAgdmVydGljYWwsXG4gICAgfSksXG4gICAgRm9vdGVyKCksXG4gIF07XG5cbiAgZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSAnJztcbiAgZm9yIChjb25zdCBlbCBvZiBlbGVtZW50cykge1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWwpO1xuICB9XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbicpLmZvY3VzKCk7XG59XG4iLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tICcuL2pzL2NsYXNzZXMnO1xuaW1wb3J0IHJlbmRlclNoaXBQbGFjaW5nIGZyb20gJy4vanMvcmVuZGVyU2hpcFBsYWNpbmcnO1xuaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5cbmNvbnN0IHBsYXllciA9IG5ldyBQbGF5ZXIoKTtcblxucmVuZGVyU2hpcFBsYWNpbmcoeyBwbGF5ZXIgfSk7XG4iXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic3R5bGVzSW5ET00iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXhCeUlkZW50aWZpZXIiLCJvYmoiLCJjc3MiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZEVsZW1lbnRTdHlsZSIsImJ5SW5kZXgiLCJzcGxpY2UiLCJhcGkiLCJkb21BUEkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJyZW1vdmUiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwiaW5kZXgiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsIm1lbW8iLCJpbnNlcnQiLCJzdHlsZSIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwic3R5bGVFbGVtZW50Iiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsImFwcGx5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIm5jIiwiaXNBcnJheUluQXJyYXkiLCJhcnIiLCJzb21lIiwiZWxlIiwiU2hpcCIsImNvbnN0cnVjdG9yIiwidGltZXNIaXQiLCJoaXQiLCJpc1N1bmsiLCJHYW1lYm9hcmQiLCJib2FyZCIsImNyZWF0ZUJvYXJkIiwic2hpcHMiLCJtaXNzZWRBdHRhY2tzIiwiaGl0QXR0YWNrcyIsInBvc3NpYmxlSGl0c1F1ZXVlIiwic3RhdGljIiwicm93IiwiaiIsImNvb3JkcyIsImRpY3QiLCJBIiwiQiIsIkMiLCJEIiwiRSIsIkYiLCJHIiwiSCIsIkkiLCJKIiwieCIsInkiLCJ0b1VwcGVyQ2FzZSIsImFycmF5IiwicGxhY2VTaGlwIiwic2hpcCIsInZlcnRpY2FsIiwidmFsdWVJbmRleCIsImNhblBsYWNlU2hpcCIsImFyZVNoaXBzU3VuayIsInJlY2VpdmVBdHRhY2siLCJzaGlwU3F1YXJlcyIsImZpbmRBbGxTaGlwU3F1YXJlcyIsInNoaXBTcXVhcmUiLCJuZXdSb3ciLCJuZXdWYWx1ZUluZGV4IiwiY3VyUm93IiwiY3VyVmFsSW5kZXgiLCJnZXRTcXVhcmVzQ292ZXJlZEJ5TmV3U2hpcCIsInNxdWFyZXNDb3ZlcmVkIiwiZ2V0TmV4dFNoaXBMZW5ndGhUb1BsYWNlIiwiZmlsbFJhbmRvbWx5IiwiY3VyclNoaXAiLCJyYW5kb21Db29yZHMiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJyYW5kb21WZXJ0aWNhbCIsImFkZEFkamFjZW50U3F1YXJlc1RvUXVldWUiLCJxdWV1ZSIsIlBsYXllciIsImdhbWVib2FyZCIsImF0dGFjayIsInBsYXllciIsImF0dGFja1JhbmRvbSIsInBHYm9hcmQiLCJ1c2VkQXR0YWNrcyIsImZpbHRlciIsInF1ZXVlZEF0dGFjayIsInJhbmRJbmRleCIsInJhbmRQb3NzaWJsZUhpdCIsInVzZWRBdHRhY2siLCJGb290ZXIiLCJmb290ZXIiLCJ5ZWFyIiwiRGF0ZSIsImdldEZ1bGxZZWFyIiwiaW5uZXJIVE1MIiwiSGVhZGVyIiwiaGVhZGVyIiwiaDEiLCJQbGF5ZXJFbCIsInBsYXllck9iaiIsInRpdGxlIiwiaXNFbmVteSIsImF0dGFja2luZ1BsYXllck9iaiIsImlzR2FtZU92ZXIiLCJ3cmFwcGVyIiwiY2xhc3NOYW1lIiwiYm9hcmRFbCIsImNvbHVtbnMiLCJjb2xOYW1lIiwiY29sdW1uIiwicm93TnVtIiwiY29sTnVtIiwidGlsZSIsImNyZWF0ZVRpbGUiLCJ0aXRsZUVsIiwiaXNBdHRhY2tJbkFycmF5IiwiY2xhc3NMaXN0IiwiYWRkIiwic3R5bGVUaWxlIiwib25jbGljayIsInJlbmRlckFwcCIsImNvbXB1dGVyIiwiTWFpbiIsIm1haW4iLCJnYW1lT3ZlcldyYXBwZXIiLCJnYW1lT3Zlck1lc3NhZ2UiLCJtZXNzYWdlIiwicGxheUFnYWluIiwicmVuZGVyU2hpcFBsYWNpbmciLCJwbGF5ZXJzIiwiZWxlbWVudHMiLCJib2R5IiwiZWwiLCJTaGlwUGxhY2luZyIsImhvdmVyZWRTcXVhcmUiLCJ0aXRsZUVsMSIsInRpdGxlRWwyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiY29kZSIsInRhYkluZGV4IiwiaXNTaGlwIiwib25tb3VzZWVudGVyIiwib25tb3VzZWxlYXZlIiwiY3VycmVudFNoaXBMZW5ndGgiLCJpc0xlZ2FsIiwiY292ZXJlZFNxdWFyZXMiLCJmb2N1cyJdLCJzb3VyY2VSb290IjoiIn0=